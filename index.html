<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8">
  <title>VIP课程记录生成器</title>
  <style>
    body {
      font-family: 'Microsoft YaHei', sans-serif;
      padding: 30px;
      background-color: #f7f9fb;
    }
    h2 {
      color: #2c3e50;
      margin-top: 40px;
    }
    label {
      display: block;
      margin-top: 15px;
    }
    input, select, textarea {
      width: 300px;
      padding: 6px;
      margin-top: 5px;
    }
    button {
      margin-top: 20px;
      padding: 8px 16px;
      font-size: 1rem;
    }
    #output {
      margin-top: 30px;
      white-space: pre-wrap;
      background: #fff;
      padding: 15px;
      border: 1px solid #ccc;
      width: 100%;
      max-width: 600px;
    }
  </style>
</head>
<body>

<h2>VIP课程记录生成器</h2>

<label>预约日期：
  <input type="date" id="date">
</label>
<label>开始时间：
  <input type="time" id="startTime">
</label>
<label>课时：
  <select id="duration">
    <option value="120">2小时</option>
    <option value="90">1.5小时</option>
  </select>
</label>
<label>讲师：
  <select id="teacher">
    <option value="王梓同">王梓同</option>
  </select>
</label>
<label>学生：
  <select id="student">
    <option value="李政伯">李政伯</option>
    <option value="苏鹏宇">苏鹏宇</option>
    <option value="闫可">闫可</option>
  </select>
</label>
<label>授课内容：
  <select id="content">
    <option value="EJU化学">EJU化学</option>
    <option value="EJU数学">EJU数学</option>
  </select>
</label>

<button onclick="generateReservation()">生成预约记录</button>
<button onclick="generateConclusion()">生成上课记录</button>

<div id="output"></div>

<script>
function pad(n) {
  return n.toString().padStart(2, '0');
}

function addMinutes(time, minsToAdd) {
  const [h, m] = time.split(":".repeat(1)).map(Number);
  const date = new Date();
  date.setHours(h);
  date.setMinutes(m + minsToAdd);
  return pad(date.getHours()) + ":" + pad(date.getMinutes());
}

function showToast(message) {
  const toast = document.createElement("div");
  toast.textContent = message;
  toast.style.position = "fixed";
  toast.style.bottom = "30px";
  toast.style.left = "50%";
  toast.style.transform = "translateX(-50%)";
  toast.style.backgroundColor = "#323232";
  toast.style.color = "#fff";
  toast.style.padding = "10px 20px";
  toast.style.borderRadius = "6px";
  toast.style.fontSize = "14px";
  toast.style.boxShadow = "0 2px 6px rgba(0,0,0,0.3)";
  toast.style.opacity = "0";
  toast.style.transition = "opacity 0.3s";

  document.body.appendChild(toast);

  requestAnimationFrame(() => {
    toast.style.opacity = "1";
  });

  setTimeout(() => {
    toast.style.opacity = "0";
    setTimeout(() => document.body.removeChild(toast), 300);
  }, 2000);
}

function generateReservation() {
  const date = document.getElementById('date').value;
  const [year, month, day] = date.split("-");
  const start = document.getElementById('startTime').value;
  const duration = parseInt(document.getElementById('duration').value);
  const end = addMinutes(start, duration);
  const teacher = document.getElementById('teacher').value;
  const student = document.getElementById('student').value;
  const content = document.getElementById('content').value;

  const reservation = `VIP课程预约\n线下课\n预约时间: ${year}年${month}月${day}日 ${start} - ${end}\n讲师: ${teacher}\n学生: ${student}\n授课内容: ${content}\n@格致学苑-花花@小雪老师`;

  document.getElementById("output").innerText = reservation;
  navigator.clipboard.writeText(reservation).then(() => {
    showToast("✅ 预约记录已复制");
  });
}

function generateConclusion() {
  const date = document.getElementById('date').value;
  const [year, month, day] = date.split("-");
  const start = document.getElementById('startTime').value;
  const duration = parseInt(document.getElementById('duration').value);
  const end = addMinutes(start, duration);
  const teacher = document.getElementById('teacher').value;
  const student = document.getElementById('student').value;
  const content = document.getElementById('content').value;

  const h = Math.floor(duration / 60);
  const m = duration % 60;
  const durationText = `${h}小时${m > 0 ? m + "分钟" : ""}`;

  const conclusion = `VIP课程上课结束\n学生: ${student}\n讲师: ${teacher}\n上课时间: ${year}年${month}月${day}日 ${start} - ${end}（线下）\n所用时长: ${durationText}\n上课内容: ${content.toLowerCase()}\n课后作业: @格致学苑-花花@小雪老师`;

  document.getElementById("output").innerText = conclusion;
  navigator.clipboard.writeText(conclusion).then(() => {
    showToast("✅ 上课记录已复制");
  });
}
</script>

</body>
</html>