<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8">
  <title>VIP课程记录生成器</title>
  <style>
    body {
      font-family: 'Microsoft YaHei', sans-serif;
      padding: 30px;
      background-color: #f7f9fb;
    }
    h2 {
      color: #2c3e50;
      margin-top: 20px;
    }
    label {
      display: block;
      margin-top: 12px;
    }
    select, input {
      padding: 6px;
      margin-top: 5px;
    }
    button {
      margin-top: 15px;
      margin-right: 10px;
      padding: 6px 16px;
      font-size: 1rem;
    }
    #output {
      margin-top: 30px;
      background: #fff;
      padding: 15px;
      border: 1px solid #ccc;
      max-width: 600px;
      position: relative;
    }
    pre {
      white-space: pre-wrap;
      margin: 0;
    }
    #copyBtn {
      margin-top: 10px;
      padding: 5px 12px;
    }
    #toast {
      position: fixed;
      bottom: 30px;
      left: 50%;
      transform: translateX(-50%);
      background: #4caf50;
      color: white;
      padding: 10px 20px;
      border-radius: 20px;
      display: none;
    }
  </style>
</head>
<body>

<h2>VIP课程记录生成器</h2>

<label>预约日期：
  <input type="date" id="date">
</label>

<label>开始时间（小时 和 分钟）：
  <select id="hour">
    ${[...Array(11)].map((_, i) => `<option value="${10 + i}">${10 + i}</option>`).join('')}
  </select>
  ：
  <select id="minute">
    <option value="00">00</option>
    <option value="05">05</option>
    <option value="10">10</option>
    <option value="15">15</option>
    <option value="20">20</option>
    <option value="25">25</option>
    <option value="30">30</option>
    <option value="35">35</option>
    <option value="40">40</option>
    <option value="45">45</option>
    <option value="50">50</option>
    <option value="55">55</option>
  </select>
</label>

<label>课时：
  <select id="duration">
    <option value="120">2小时</option>
    <option value="90">1.5小时</option>
  </select>
</label>

<label>讲师：
  <select id="teacher">
    <option value="王梓同">王梓同</option>
  </select>
</label>

<label>学生：
  <select id="student">
    <option value="李政伯">李政伯</option>
    <option value="苏鹏宇">苏鹏宇</option>
    <option value="闫可">闫可</option>
  </select>
</label>

<label>授课内容：
  <select id="content">
    <option value="EJU化学">EJU化学</option>
    <option value="EJU数学">EJU数学</option>
  </select>
</label>

<br>
<button onclick="generateReservation()">生成预约记录</button>
<button onclick="generateConclusion()">生成上课记录</button>

<div id="output">
  <pre id="textContent"></pre>
  <button id="copyBtn" onclick="copyOutput()">复制</button>
</div>

<div id="toast">已复制到剪贴板！</div>

<script>
function pad(n) {
  return n.toString().padStart(2, '0');
}

function addMinutes(h, m, minsToAdd) {
  const date = new Date();
  date.setHours(h);
  date.setMinutes(m + minsToAdd);
  return [pad(date.getHours()), pad(date.getMinutes())];
}

function generateReservation() {
  const date = document.getElementById('date').value;
  const [year, month, day] = date.split("-");
  const hour = parseInt(document.getElementById('hour').value);
  const minute = parseInt(document.getElementById('minute').value);
  const duration = parseInt(document.getElementById('duration').value);
  const [endH, endM] = addMinutes(hour, minute, duration);
  const teacher = document.getElementById('teacher').value;
  const student = document.getElementById('student').value;
  const content = document.getElementById('content').value;

  const text = `VIP课程预约\n线下课\n预约时间: ${year}年${month}月${day}日 ${pad(hour)}:${pad(minute)} - ${endH}:${endM}\n讲师: ${teacher}\n学生: ${student}\n授课内容: ${content}\n@格致学苑-花花@小雪老师`;

  document.getElementById("textContent").innerText = text;
}

function generateConclusion() {
  const date = document.getElementById('date').value;
  const [year, month, day] = date.split("-");
  const hour = parseInt(document.getElementById('hour').value);
  const minute = parseInt(document.getElementById('minute').value);
  const duration = parseInt(document.getElementById('duration').value);
  const [endH, endM] = addMinutes(hour, minute, duration);
  const teacher = document.getElementById('teacher').value;
  const student = document.getElementById('student').value;
  const content = document.getElementById('content').value;

  const h = Math.floor(duration / 60);
  const m = duration % 60;
  const durationText = `${h}小时${m > 0 ? m + "分钟" : ""}`;

  const text = `VIP课程上课结束\n学生: ${student}\n讲师: ${teacher}\n上课时间: ${year}年${month}月${day}日 ${pad(hour)}:${pad(minute)} - ${endH}:${endM}（线下）\n所用时长: ${durationText}\n上课内容: ${content.toLowerCase()}\n课后作业: @格致学苑-花花@小雪老师`;

  document.getElementById("textContent").innerText = text;
}

function copyOutput() {
  const content = document.getElementById("textContent").innerText;
  if (content.trim()) {
    navigator.clipboard.writeText(content).then(() => {
      const toast = document.getElementById("toast");
      toast.style.display = "block";
      setTimeout(() => toast.style.display = "none", 2000);
    });
  } else {
    alert("没有可复制的内容！");
  }
}

// 设置默认日期为今天
window.onload = () => {
  const today = new Date();
  document.getElementById("date").value = today.toISOString().split("T")[0];
}
</script>

</body>
</html>